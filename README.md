# 校园闲鱼 - 校园二手物品复活系统 (Campus Xianyu)

校园闲鱼是一个基于 Python 和 PyQt6 开发的校园二手交易平台。项目采用经典的 **MVC (Model-View-Controller)** 架构设计，提供了美观的用户界面、完善的权限管理以及动态物品属性配置功能。

## 🌟 核心功能

- **用户系统**: 
  - 支持用户注册与登录。
  - 注册申请需经过管理员审核后方可登录。
  - 使用 `bcrypt` 进行密码哈希加密，保障账户安全。
- **物品管理**:
  - 分类浏览物品，支持关键词搜索。
  - 动态属性支持：不同分类（如“电子产品”与“图书”）可拥有不同的自定义属性（如“购买日期”、“序列号”等）。
  - 支持多图上传与预览，物品详情页完整展示。
- **管理员后台**:
  - 审核待注册用户。
  - 管理物品分类：可动态添加、修改分类及其自定义属性。
- **现代化 UI**:
  - 响应式窗口设计，自适应不同分辨率。
  - 极简、清爽的交互界面。

## 🏗️ 项目架构 (MVC)

项目代码结构清晰，易于维护和扩展：

- **Model (数据层)**: 
  - 负责与 SQLite 数据库交互。
  - 处理用户数据、物品数据及其分类属性的持久化。
- **View (视图层)**: 
  - 基于 PyQt6 构建的 GUI。
  - 包含登录/注册对话框、主窗口、物品卡片、详情页及管理员面板。
- **Controller (控制层)**: 
  - 应用逻辑的核心。
  - 协调模型与视图，处理用户交互信号并触发数据更新。

## 文件夹结构

```text
Project1/
├── assets/             # 静态资源（背景图片、图标等）
├── config/             # 项目配置文件
├── controllers/        # 控制器类（业务逻辑）
├── model/              # 模型类（数据库操作）
├── views/              # 视图类（UI 组件）
│   └── components/     # 自定义 UI 小部件（如 FlowLayout, ItemCard）
├── uploads/            # 用户上传的图片存储目录
├── main.py             # 应用程序入口
├── requirements.txt    # 项目依赖
└── database.db         # SQLite 数据库文件（运行后生成）
```

## 🛠️ 技术栈

- **语言**: Python 3.x
- **GUI 框架**: PyQt6
- **数据库**: SQLite 3
- **加密**: Bcrypt
- **其他**: 
  - `uuid`: 用于生成唯一的上传文件名。
  - `shutil`: 用于文件复制与管理。

## 🚀 快速开始

### 1. 安装依赖
确保已安装 Python，然后运行以下命令安装必要的库：
```bash
pip install -r requirements.txt
```

### 2. 运行程序
执行主程序文件：
```bash
python main.py
```

### 3. 初始账户
系统初始化后会自动创建一个管理员账户：
- **用户名**: `admin`
- **密码**: `admin123`

## 📝 许可证

本项目仅供学习交流使用。
